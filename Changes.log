ConcurrentDraw changes log

Version 1.2 (first publication):
• Supports getting FFT data from specified audio output using BASS library;
• Supports getting list of supported devices;
• Supports drawing static and moving spectrograms based on FFT data;
• Supports adjustable beats detection (frequencies range and amplitude threshold);
• Supports 4 palettes for spectrograms;
• Supports holding of settings for spectrogram palettes, window size and position, specified output device, beats detection metrics

Version 1.3:
• Generic code improvements;
• Added support for 'always on top' flag;
• Added support for adjustable FFT scale multiplier (spectrogram contrast);
• Added histogram mode up to 22050 Hz;
• Added high contrast palette 'Sunshine'

Version 1.4:
• Added 'Acid' palette with high contrast on high amplitudes;
• Added 'Butterfly' histogram mode;
• Generic code improvements;
• Fixed incorrect behavior of main window when it's always on top and user calls settings interface;
• Fixed logo redraw and placement in different modes

Version 1.4.1:
• Added versions checker: now application will launch only with compatible libraries

Version 1.5:
• Settings interface improvements applied;
• Added support for adjustable quantity of FFT values for histograms building;
• Beats detector's behavior updated;
• Fixed behavior of 'Cancel' button at first start of application;
• Code improvements applied;
• Added user manual at first launch and on '?' button

Version 1.6:
• Code optimizations applied; old unused code removed;
• Added russian language and localization support for user interface;
• Settings are now reset to previously saved when you click 'Cancel' button;
• Logo, 'about' info and quick user manual added to the 'first start' event

Version 1.7:
• Math optimizations applied;
• Logo placement algorithm optimized for 16:9 window mode;
• Added support for file streaming (test mode; not available for users for now);
• Generic code review performed

Version 1.7.2:
• Added OS language autodetection at first launch;
• Added '7MissedCalls' and 'Sail' palettes;
• Generic optimizations for file streaming support applied (test mode; still not available for users);

Version 1.8:
• Added ability to set visualization position and size using mouse;
• Fixed invalid behavior of parameters window in case of changing values without saving them;
• Added palettes preview;
• Fixed infinite restart when system stereo mixer on Windows 7 conflicts with hardware microphone;
• Some fixes applied to existent palettes

Version 1.8.1:
• Added 'Mirror' palette

Version 1.9:
• Added cumulative effect: in case of intensive and dense beats (or other frequencies that are under detector)
  visualization background will change its color according to selected palette

Version 1.9.1:
• Some fixes applied to existent palettes

Version 1.10:
• Added the ability to set diameter of logo (as a percentage of window's height);
• Some interface improvements applied

Version 1.11:
• Added rotation ability for butterfly histogram;
• More correct palettes usage applied to butterfly histogram

Version 1.12:
• Histogram rotation angle is more precise now;
• 'Beats detector'-based histogram rotation's angle impulse now may be adjusted;
• Butterfly histogram got full (360 degrees) field and more accurate spikes drawing

Version 1.13:
• Beat detector's code optimizations applied;
• Some minor bugs fixed;
• Quick logo reset algorithm on settings' changes applied

Version 1.14:
• Symmetric histogram mode added;
• Non-black and semitransparent backgroung added for histogram modes;
• Not needed drawing preparations removed;

Version 1.14.1:
• Some code optimizations and improvements applied

Version 1.15:
• Some minor bugs fixed;
• Application failure on settings call fixed: forced threads synchronization applied;
• Max histogram height extended up to 512 px;
• Beats detector's peaks evaluation is more stable now

Version 1.16:
• Some improvements applied;
• Added new palettes including the one that changes over time and the random one

Version 1.17:
• Sources splitted to different files using readability and usability rules;
• In case of 'polymorph' or 'random' palette logo will be reset anytime you'll change settings;
• Also 'random' and 'polymorph' palettes may be changed by double mouse click on the main window;
• Added monocolor variants of 'polymorph' and 'random' palettes

Version 1.17.1:
• Some code improvements applied

Version 1.18:
• Some visual improvements applied;
• Some code improvements applied;
• Fixed 'random' palette reset failure for histograms and spectrograms on double left click;
• Fixed settings misapplying on application startup;
• Added ability to make logo transparent in butterfly histogram mode (when no rotation enabled);
• Added shaking beats detector

Version 1.18.1:
• Fixed incorrect processing of 'no cumulative effect' state

Version 1.19:
• Amplitude threshold (setting) now will be presented in percentage;
• Window alignment at first launch is more accurate now;
• Cumulative effect's background changed to fullwindow rectangle (instead of peaksfitting ellipse);
• Added 'perspective histogram' mode;
• Added 'static amplitude histogram' and 'moving amplitude histogram' modes;
• Added [0; 690] Hz histogram range;
• Some math improvements applied;
• Some code improvements applied;
• Some parameters interface's bugs fixed

Version 1.20:
• Rotation math reviewed: histograms rotation is literally rotation now;
  Also it can be used with transparency flag;
• 'Noise' rotation in beats-according rotation mode fixed;
• Perspective histogram mode completely reviewed: it's more usable now;
  Also it can be used with transparency flag

Version 1.21:
• Incorrect window alignment on large screens fixed;
• Window size now can be set using list of most common videomodes' sizes;
• Window size now defines maximum of spectrogram's and histogram's height;
• Negative palettes implemented (not active yet);
• Applications development policy (ADP) accordance checked; read application annotation for details;
• Spectrograms aligned to 8268.75 Hz; 'height' value now works as scale;
• Beats detector now may be turned off properly

Version 1.22:
• Some code improvements applied;
• New predefined window sizes added;
• Shake effect now works with the whole visualization

Version 1.23:
• Some unused code removed;
• Palettes code review applied;
• Negative palette added; modes have been reviewed and now support negative palettes properly;
• Logo will now be transparent in all modes;
• Modes without logo will now be supported properly; they aren't available yet

Version 1.23.2:
• Some adjustments for palettes added: beats detector will now be properly visible with all default palettes;
• Some code fixes applied;
• Invalid beats detector behaviour on high frequencies fixed

Version 1.23.7:
• Some application extensions' bugs fixed

Version 1.24:
• Palettes code complete review applied;
• Lemon palette added;
• Probability distribution bug fixed: polymorph and random palettes will not 'roll down' anymore

Version 1.25:
• Beats detector will decelerate more smoothly now;
• Transparency setting fully removed;
• Reversed 'sea' and 'fire' palettes added;
• Parameters window has been updated with tab control;
• Decumulation speed's trackbar is more accurate now;
• Other code improvements applied

Version 1.25.10:
• Settings management subsystem implemented; in further versions application will be able to save
  sets of settings and select them from the list

Version 1.26:
• New pallettes got better fitting;
• 'Purple' and 'Reversed blood' palettes added;
• Settings profiling added: settings may be named and saved now

Version 1.26.5:
• Some code requirements applied;
• Random and polymorph palettes fix applied;
• Some interface fixes applied

Version 1.26.6:
• Some code fixes applied

Version 1.27:
• Some 'application parameters' interface fixes applied;
• Double width flag added for spectrogram and amplitude modes;
• Drawing initialization fix applied

Version 1.27.2r:
• Runtime FFT data extractor fixed. Now it will not skip updating frames if there is not enough data in audio buffer.
  This will make spectrogram movement smoother. It will also fix the update step of random / polymorph palettes

Version 1.28:
• Bit detector presentation updated;
• Some redundant code removed;
• Cumulative effect 'turn off' state moved to the maximum of decumulation speed's trackbar (it's more correct)

Version 1.29:
• Logo placement now can be specified manually;
• Logo's maximum size increased to 100%;
• Some settings interface's bugs fixed;
• Additional graphic objects from FullSilence assembly included (experimentally)

Version 1.29.2:
• Logo settings tab is more usable now;
• Drawing algorithm adjusted to fit new graphical objects

Version 1.30:
• Background image and video loading implemented (experimentally)

Version 1.30.1:
• Some code improvements applied;
• Logo locked at the center position for perspective histogram

Version 1.30.2:
• Cumulative effect opened for spectrograms and histograms;
• Fadeout effect's code reviewed;
• Renderer's code reviewed

Version 1.31:
• Added ability to render separated PNG frames as video background

Version 1.31.1:
• Runtime updater's code reviewed;
• Drawer's code improved;
• Symmetric moving spectrogram mode added

Version 1.31.2:
• Graphical improvement applied to symmetric moving spectrogram mode;
• Beats detector's low triggering level's setting fixed and now cannot be lower than 50% (avoids of detector's rollover)

Version 1.32:
• Utility now supports BASS version 2.4.15 in addition to 2.4.14;
• Parameters window will now apply settings when you press Enter key in any place and abort them when you press ESC key;
• Hot keys processing added for:
    Space key (will call parameters window);
    R key (will reset logo);
    W, A, S and D keys (will move logo);
    Arrows (will move visualization window);
    M key (will cyclically change visualization modes);
    P key (will cyclically change palettes);
    H key (will cyclically change histogram ranges);
    T key (will switch 'always on top' flag);
    K key (will switch 'shake flag);
  They will change settings without calling the parameters window

Version 1.33:
• Hot keys processing code has been reviewed;
• Using W, A, S, D keys and arrow keys with the Ctrl key will force the application to use the limit of corresponding value;
• C key will now place logo at the center of visualization;
• '/ ?' key will now call quick user manual;
• Visualization window's size maximums removed;
• Visualization window now cannot cross right and bottom edges of the screen;
• Quick user manual updated with hot keys descriptions

Version 1.34:
• Effect made by hot keys will now be shown at the visualization window;
• I key will now show current settings info

Version 1.34.2:
• Fixed bug when window alignment with arrow buttons caused application crush;
• Beats detector's 'off' state now will be shown properly

Version 1.35:
• W, A, S and D keys (logo moving) replaced with arrow keys in combination with Shift key. So:
    arrow keys will move visualization window;
    arrow keys with Ctrl key will move it to edges of screen;
    arrow keys with Shift key will move logo;
    arrow keys with Shift and Ctrl keys will move it to edges of window;
• S key now allow you to save current image of visualization to file;
• '< ,' / '> .' keys allow you to decrease / increase speed of histogram rotation;
    using without Shift key will activate constant increment;
    using with Shift key will activate beats-dependent rotation;
• Rotation reset button added to parameters window;
• Keys processing code has been reviewed;
• Some fixes for source code of CD library applied;
• Fixed unability to rotate histogram according to beats detector in visualization modes without logo;
• Modes without logo and 'logo only' mode are now available in release version

Version 1.35.1:
• Using Shift key with P, M and H keys will reverse direction of change of palette, mode and range;
• Perspective histogram mode reviewed
